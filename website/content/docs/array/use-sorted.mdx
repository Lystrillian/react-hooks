---
title: useSorted
description: Collection of useful React hooks and utilities.
---

`useSorted` is a custom hook that provides a sorted version of an input array. It allows for sorting with a custom comparison function or sorting options.

## Usage

```tsx
import { useSorted } from '#';

import { useState } from 'react';

const Component = () => {
  const [list, setList] = useState([5, 3, 1, 4, 2]);

  // Using a comparison function
  const sortedList = useSorted(list, (a, b) => a - b);

  return <div>Sorted List: {JSON.stringify(sortedList)}</div>;
};
```

```tsx
import { useSorted } from '#';

import { useState } from 'react';

const Component = () => {
  const [list, setList] = useState([
    { id: 3, name: 'Charlie' },
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bob' },
  ]);

  // Using sorting options
  const sortedList = useSorted(list, {
    compareFn: (a, b) => a.id - b.id,
    dirty: true, // Mutates the input array
  });

  return <div>Sorted List: {JSON.stringify(sortedList)}</div>;
};
```

```tsx
import { useSorted } from '#';

import { useState } from 'react';

const Component = () => {
  const [list, setList] = useState(['banana', 'apple', 'cherry', 'date']);

  // Using a custom sort function
  const sortedList = useSorted(list, {
    sortFn: (arr, compareFn) => [...arr].sort(compareFn).reverse(),
    compareFn: (a, b) => a.localeCompare(b),
  });

  return <div>Sorted List: {JSON.stringify(sortedList)}</div>;
};
```

## Type Declarations

```ts
/**
 * Comparison function type for sorting elements in an array.
 *
 * @typedef {Function} UseSortedCompareFn
 * @param {T} a - The first element to compare.
 * @param {T} b - The second element to compare.
 * @returns {number} A negative value if `a` should be sorted before `b`,
 * a positive value if `b` should be sorted before `a`, or zero if they're equal.
 * @template T
 */
export type UseSortedCompareFn<T> = (a: T, b: T) => number;

/**
 * Options for the `useSorted` hook.
 *
 * @interface UseSortedOptions
 * @template TestComponent
 * @property {Function} [sortFn] - Custom sort function to use instead of the default.
 * @property {UseSortedCompareFn<T>} [compareFn] - Comparison function for sorting elements.
 * @property {boolean} [dirty] - Flag indicating whether to mutate the original array.
 */
export interface UseSortedOptions<T> {
  sortFn?: (arr: T[], compareFn?: UseSortedCompareFn<T>) => T[];
  compareFn?: UseSortedCompareFn<T>;
  dirty?: boolean;
}

/**
 * Default sort function that creates a new sorted array using the provided comparison function.
 *
 * @template T - The type of elements in the array.
 * @param {T[]} arr - The array to be sorted.
 * @param {UseSortedCompareFn<T>} [compareFn] - Comparison function for sorting elements.
 * @returns {T[]} A new sorted array.
 */
export function defaultSortFn<T>(
  arr: T[],
  compareFn?: UseSortedCompareFn<T>
): T[];

/**
 * Sorts an array based on the provided comparison function and options.
 *
 * @template T - The type of elements in the array.
 * @param {T[]} source - The array to be sorted.
 * @param {UseSortedCompareFn<T>} [compareFn] - Comparison function for sorting elements.
 * @param {UseSortedOptions<T>} [options] - Additional options for sorting.
 * @returns {T[]} A sorted array.
 */
export function sortArray<T>(
  source: T[],
  compareFn?: UseSortedCompareFn<T>,
  options?: UseSortedOptions<T>
): T[];

/**
 * React hook that returns a sorted version of the provided array.
 *
 * @template T - The type of elements in the array.
 * @param {T[]} source - The array to be sorted.
 * @param {UseSortedCompareFn<T> | UseSortedOptions<T>} [compareFnOrOptions] - Comparison function or options object.
 * @param {Omit<UseSortedOptions<T>, 'compareFn'>} [options] - Additional options for sorting.
 * @returns {T[]} A sorted array.
 */
export function useSorted<T>(
  source: T[],
  compareFnOrOptions?: UseSortedCompareFn<T> | UseSortedOptions<T> | null,
  options?: Omit<UseSortedOptions<T>, 'compareFn'> | null
): T[];
```

## Reference

<TypeTable
  type={{
    source: {
      description: 'The type of elements in the array.',
      type: 'T[]',
    },
    compareFnOrOptions: {
      description: 'Comparison function or options object.',
      type: 'UseSortedCompareFn<T> | UseSortedOptions<T> | null',
    },
    options: {
      description: 'Additional options for sorting.',
      type: 'UseSortedOptions<T>',
    },
  }}
/>
