---
title: usePrevious
description: Collection of useful React hooks and utilities.
---

`usePrevious` is a hook that returns the previous value of a given variable.

## Usage

```tsx
import { usePrevious } from '#';
import * as React from 'react';

const Component = () => {
  const [count, setCount] = React.useState(0);
  const prevCount = usePrevious(count);

  return (
    <div>
      <p>Previous count: {prevCount}</p>
      <p>Current count: {count}</p>
      <button onClick={() => setCount(count + 1)}>Increment</button>
    </div>
  );
};

export default Component;
```

```tsx
import { usePrevious } from '#';
import * as React from 'react';

const Component = () => {
  const [name, setName] = React.useState('');
  const prevName = usePrevious(name, 'N/A');

  return (
    <div>
      <p>Previous name: {prevName}</p>
      <p>Current name: {name}</p>
      <input type="text" value={name} onChange={e => setName(e.target.value)} />
    </div>
  );
};

export default Component;
```

## Type Declarations

```ts
export declare function usePrevious<T>(
  value: T,
  initialValue?: T
): PreviousValue<T>;

export declare type PreviousValue<T> = T | undefined;
```

## Reference

| Property       | Type | Default     | Description                                                               |
| -------------- | ---- | ----------- | ------------------------------------------------------------------------- |
| `value`        | `T`  | -           | The current value whose previous value is to be tracked.                  |
| `initialValue` | `T`  | `undefined` | (_Optional_) An optional initial value to return before the first update. |

### Returns

| Type               | Description                                                                 |
| ------------------ | --------------------------------------------------------------------------- |
| `PreviousValue<T>` | The previous value of the given variable, or the initial value if provided. |

## Common Pitfalls

### Acceessing Previous Value on Initial Render

On the initial render, the previous value will be `undefined`unless an initialValue is provided.

```tsx
const [count, setCount] = useState(0);
const prevCount = usePrevious(count);
console.log(prevCount); // Output: undefined
```

**Solution**: Provide an `initialValue` if you want to return a specific value before the first update.

### Comparing Previous and Current Values

Be cautious when comparing the previous and current values, if they are objects or arrays, as they are compared by reference.

```tsx
const [obj, setObj] = useState({ id: 1 });
const prevObj = usePrevious(obj);
console.log(prevObj === obj); // Output: true
```

**Solution**: If you need to compare the contents of objects or arrays, use deep equality comparison or compare specific properties.
