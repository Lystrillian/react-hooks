---
title: useArrayFilter
description: Collection of useful React hooks and utilities.
---

A hook providing a memoized version of the `Array.filter` method for React, filtering an array based on the specified predicate function.

<Tabs items={['Preview', 'Code']}>
  <Tab value="Preview">
    <ArrayFilterDemo />
  </Tab>
  <Tab value="Code">
  ```tsx
'use client';

import { useState } from 'react';
import { useArrayEvery } from './useArrayEvery';

type Person = {
  id: number;
  name: string;
  age: number;
};

const initialList: Person[] = [
  { id: 1, name: 'Alice', age: 25 },
  { id: 2, name: 'Bob', age: 30 },
  { id: 3, name: 'Charlie', age: 35 },
  { id: 4, name: 'Dave', age: 40 },
  { id: 5, name: 'Eve', age: 45 },
];

const ArrayEveryDemo = () => {
  const [list, setList] = useState<Person[]>(initialList);
  const [ageThreshold, setAgeThreshold] = useState<number>(18);

  const isEveryPersonAboveAge = useArrayEvery(
    list,
    person => person.age >= ageThreshold
  );

  const handlePersonChange = (id: number, checked: boolean) => {
    if (checked) {
      const person = initialList.find(p => p.id === id);
      if (person) {
        setList([...list, person]);
      }
    } else {
      setList(list.filter(p => p.id !== id));
    }
  };

  const handleAgeThresholdChange = (
    event: React.ChangeEvent<HTMLInputElement>
  ) => {
    setAgeThreshold(Number(event.target.value));
  };

  const getFirstPersonBelowThreshold = (): Person | undefined => {
    return list.find(person => person.age < ageThreshold);
  };

  const firstPersonBelowThreshold = getFirstPersonBelowThreshold();

  return (
    <div className="container mx-auto p-4">
      <div className="mb-4">
        <label htmlFor="ageThreshold" className="block mb-2 font-bold">
          Age Threshold:
        </label>
        <input
          id="ageThreshold"
          type="number"
          value={ageThreshold}
          onChange={handleAgeThresholdChange}
          className="w-full p-2 border border-gray-300 rounded"
        />
      </div>

      <div className="mb-4">
        <h2 className="text-xl font-bold mb-2">People:</h2>
        <ul>
          {initialList.map(person => (
            <li key={person.id} className="flex items-center mb-2">
              <input
                type="checkbox"
                checked={list.some(p => p.id === person.id)}
                onChange={e => handlePersonChange(person.id, e.target.checked)}
                className="mr-2"
              />
              <span>
                {person.name} ({person.age})
              </span>
            </li>
          ))}
        </ul>
      </div>

      <div>
        <h2 className="text-xl font-bold mb-2">Result:</h2>
        <p>
          Is every person above the age of {ageThreshold}?{' '}
          <strong>{isEveryPersonAboveAge ? 'Yes' : 'No'}</strong>
        </p>
        {!isEveryPersonAboveAge && firstPersonBelowThreshold && (
          <p>
            The first person below the threshold is{' '}
            <strong>
              {firstPersonBelowThreshold.name} (age{' '}
              {firstPersonBelowThreshold.age})
            </strong>
            , who is{' '}
            <strong>
              {ageThreshold - firstPersonBelowThreshold.age} years below the
              threshold.
            </strong>
          </p>
        )}
      </div>
    </div>
  );
};

export default ArrayEveryDemo;

  ```
  </Tab>
  </Tabs>

  ## Installation

```bash
npx changeelog/reactuse@latest add useArrayFilter
```

## Usage

```tsx
import { useArrayFilter } from '#';

import { useState } from 'react';

const Component = () => {
  const [numbers, setNumbers] = useState([1, 2, 3, 4, 5]);

  const isEven = (number: number) => number % 2 === 0;

  const evenNumbers = useArrayFilter(numbers, isEven);

  return (
    <div>
      <p>Even Numbers: {evenNumbers.join(', ')}</p>
    </div>
  );
};

export default Component;
```

```tsx
import { useArrayFilter } from '#';

import { useState } from 'react';

const Component = () => {
  const [users, setUsers] = useState([
    { name: 'Alice', age: 25 },
    { name: 'Bob', age: 30 },
  ]);

  const isAdult = (user: { age: number }) => user.age >= 18;

  const adults = useArrayFilter(users, isAdult);

  return (
    <ul>
      {adults.map(user => (
        <li key={user.name}>{user.name}</li>
      ))}
    </ul>
  );
};

export default Component;
```

## Type Declarations

```typescript
/**
 * Represents a predicate function used in the `useArrayFilter` function.
 *
 * @template T The type of elements in the array.
 * @param {T} element The current element being processed.
 * @param {number} index The index of the current element.
 * @param {T[]} array The array being processed.
 * @returns {boolean} The result of the predicate function. If `true`, the element is included in the filtered array.
 */
export type UseArrayFilterPredicate<T> = (
  element: T,
  index: number,
  array: T[]
) => boolean;

/**
 * A React hook that provides a memoized implementation of the
 * [`Array.prototype.filter`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter) method.
 *
 * @template T - The type of elements in the array.
 * @param {T[]} list - The array to filter. If `list` is not an array, an error message is logged to the console and the hook returns an empty array.
 * @param {UseArrayFilterPredicate<T>} predicate - A function that is called for every element of the given `list`, returning `true` for elements to include in the new array.
 * @returns {T[]} A shallow copy of a portion of the given array, filtered down to just the elements from the given array that pass the test implemented by the provided function. If no elements pass the test, an empty array will be returned.
 */
export function useArrayFilter<T>(
  list: T[],
  predicate: UseArrayFilterPredicate<T>
): T[];
```

## Reference

<TypeTable
  type={{
    list: {
      description: 'The primary array to filter',
      type: 'T[]',
    },
    predicate: {
      description:
        'A function called for every element of the `list`, returning `true` for elements to include in the new array.',
      type: 'UseArrayFilterPredicate<T>',
      default: '(element: T, index: number, array: T[]) => boolean',
    },
  }}
/>

import ArrayFilterDemo from '../../../../hooks/Array/useArrayFilter/useArrayFilter.demo';
import { TypeTable } from 'fumadocs-ui/components/type-table';
import { Tab, Tabs } from 'fumadocs-ui/components/tabs';