---
title: useSorted
description: Collection of useful React hooks and utilities.
---

`useSorted` is a custom hook that provides a sorted version of an input array. It allows for sorting with a custom comparison function or sorting options.

<Tabs items={['Preview', 'Code']}>
  <Tab value="Preview">
    <UseSortedDemo />
  </Tab>
  <Tab value="Code">
  ```tsx
export default function UseSortedDemo() {
  const [array, setArray] = useState([3, 1, 4, 1, 5, 9, 2, 6, 5, 3]);
  const [order, setOrder] = useState<'asc' | 'desc'>('asc');

  const compareFn = (a: number, b: number) => {
    if (order === 'asc') {
      return a - b;
    } else {
      return b - a;
    }
  };

  const sortedArray = useSorted(array, compareFn);

  const handleShuffle = () => {
    const shuffled = [...array];
    for (let i = shuffled.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    setArray(shuffled);
  };

  return (
    <div>
      <div>
        <label htmlFor="order">
          Sort Order:
        </label>
        <select
          id="order"
          value={order}
          onChange={e => setOrder(e.target.value as 'asc' | 'desc')}
        >
          <option value="asc">Ascending</option>
          <option value="desc">Descending</option>
        </select>
      </div>
      <div>
        <p>Original Array: <span>{array.join(', ')}</span></p>
      </div>
      <div>
        <p>Sorted Array: <span>{sortedArray.join(', ')}</span></p>
      </div>
      <button 
      onClick={handleShuffle}>
        Shuffle Array
      </button>
    </div>
  );
}
```
</Tab>
</Tabs>

## Installation

```bash
npx changeelog/reactuse@latest add useSorted
```

## Usage

```tsx
import { useSorted } from '#';

import { useState } from 'react';

const Component = () => {
  const [list, setList] = useState([5, 3, 1, 4, 2]);

  // Using a comparison function
  const sortedList = useSorted(list, (a, b) => a - b);

  return <div>Sorted List: {JSON.stringify(sortedList)}</div>;
};
```

```tsx
import { useSorted } from '#';

import { useState } from 'react';

const Component = () => {
  const [list, setList] = useState([
    { id: 3, name: 'Charlie' },
    { id: 1, name: 'Alice' },
    { id: 2, name: 'Bob' },
  ]);

  // Using sorting options
  const sortedList = useSorted(list, {
    compareFn: (a, b) => a.id - b.id,
    dirty: true, // Mutates the input array
  });

  return <div>Sorted List: {JSON.stringify(sortedList)}</div>;
};
```

```tsx
import { useSorted } from '#';

import { useState } from 'react';

const Component = () => {
  const [list, setList] = useState(['banana', 'apple', 'cherry', 'date']);

  // Using a custom sort function
  const sortedList = useSorted(list, {
    sortFn: (arr, compareFn) => [...arr].sort(compareFn).reverse(),
    compareFn: (a, b) => a.localeCompare(b),
  });

  return <div>Sorted List: {JSON.stringify(sortedList)}</div>;
};
```

## Reference

### useSorted

`useSorted` is a React hook that returns a sorted version of the provided aray.

<TypeTable
  type={{
    source: {
      description: 'The array to be sorted.',
      type: 'T[]',
    },
    compareFnOrOptions: {
      description: 'Comparison function or options object.',
      type: 'UseSortedCompareFn | UseSortedOptions | null',
      default: 'undefined',
    },
    options: {
      description: 'Additional options for sorting.',
      type: 'UseSortedOptions',
      default: 'undefined',
    },
  }}
/>

### UseSortedOptions

`UseSortedOptions` is an interface defining options for the `useSorted` hook.

<TypeTable
  type={{
    sortFn: {
      description: 'Custom sort function to use instead of the default.',
      type: '(arr: T[], compareFn?: UseSortedCompareFn) => T[]',
      default: 'undefined',
    },
    compareFn: {
      description: 'Comparison function for sorting elements.',
      type: 'UseSortedCompareFn',
      default: 'undefined',
    },
    dirty: {
      description: 'Flag indicating whether to mutate the original array.',
      type: 'boolean',
      default: 'undefined',
    },
  }}
/>

### UseSortedCompareFn

`UseSortedCompareFn` is a comparison function type for sorting elements in an array.

<TypeTable
  type={{
    a: {
      description: 'The first element to compare.',
      type: 'T',
    },
    b: {
      description: 'The second element to compare.',
      type: 'T',
    },
  }}
/>

### defaultSortFn

`defaultSortFn` is the default function that creates a new sorted array using the provided comparison function/

<TypeTable
  type={{
    arr: {
      description: 'The array to be sorted.',
      type: 'T[]',
    },
    compareFn: {
      description: 'Comparison function for sorting elements.',
      type: 'UseSortedCompareFn',
      default: 'undefined',
    },
  }}
/>

### sortArray

`sortArray` is a function that sorts an array based on the provided comparison function and options.

<TypeTable
  type={{
    source: {
      description: 'The array to be sorted.',
      type: 'T[]',
    },
    compareFn: {
      description: 'Comparison function for sorting elements.',
      type: 'UseSortedCompareFn',
      default: 'undefined',
    },
    options: {
      description: 'Additional options for sorting.',
      type: 'UseSortedOptions',
      default: 'undefined',
    },
  }}
/>

import UseSortedDemo from '../../../hooks/Array/useSorted/useSorted.demo';
